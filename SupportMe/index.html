<!--
 * @Author: N0ts
 * @Date: 2023-06-28 11:59:09
 * @Description: 请我喝咖啡
 * @FilePath: /SupportMe/index.html
 * @Mail：mail@n0ts.top
-->

<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>支持我 | 请 N0ts 喝杯☕️</title>
        <meta name="description" content="支持 N0ts 的开源项目，请我喝一杯咖啡" />
        <link rel="icon" href="./favicon.ico" />
        <link rel="stylesheet" href="./css/main.css" />
    </head>

    <body>
        <div id="main">
            <!-- 加载动画 -->
            <div id="loading" :class="{ loadingClose: !loading }">
                <div>
                    <p>☕️</p>
                    <p>loading...</p>
                </div>
            </div>

            <!-- 两栏布局容器 -->
            <div class="layout">
                <!-- 左侧：个人介绍 -->
                <aside class="sidebar animate-in">
                    <div class="profile-card">
                        <h1>{{ site.name }}</h1>
                        <p class="role">{{ site.role }}</p>
                        <div class="bio">
                            <p v-for="(text, i) in site.bio" :key="i">{{ text }}</p>
                        </div>
                        <div class="divider"></div>
                        <div class="appeal">
                            <p v-for="(text, i) in site.appeal" :key="i">{{ text }}</p>
                        </div>
                        <a class="dbtn" :href="afdianUrl" target="_blank">{{ site.supportBtn }}</a>
                    </div>
                </aside>

                <!-- 右侧：项目和支持者 -->
                <main class="content">
                    <!-- 作品列表 -->
                    <section class="section animate-in delay-1" v-if="works.length > 0">
                        <h2 class="section-title">{{ site.sectionTitles.works }}</h2>
                        <div class="projects">
                            <a 
                                v-for="(item, index) in works" 
                                :key="index" 
                                :href="item.url" 
                                target="_blank"
                            >
                                <p class="name">{{ item.name }}</p>
                                <p class="description">{{ item.description }}</p>
                            </a>
                        </div>
                    </section>

                    <!-- 开源项目列表 -->
                    <section class="section animate-in delay-1" v-if="projects.length > 0">
                        <h2 class="section-title">
                            <span>{{ site.sectionTitles.projects }}</span>
                            <span class="toggle-btn" @click="showProjects = !showProjects">
                                {{ showProjects ? '收起' : '展开' }}
                            </span>
                        </h2>
                        <div class="projects-wrapper" v-show="showProjects">
                            <div class="projects" :class="{ collapsed: !projectsExpanded }">
                                <a 
                                    v-for="(item, index) in projects" 
                                    :key="index" 
                                    :href="item.html_url" 
                                    target="_blank"
                                >
                                    <p class="name">{{ item.name }}</p>
                                    <p class="star">⭐ {{ item.stargazers_count }}</p>
                                    <p class="description">{{ item.description }}</p>
                                    <p class="owner" v-if="item.owner">{{ item.owner }}</p>
                                </a>
                            </div>
                            <div 
                                class="expand-btn" 
                                @click="projectsExpanded = !projectsExpanded"
                                v-if="projects.length > 6"
                            >
                                {{ projectsExpanded ? '收起 ↑' : '展开更多 (' + (projects.length - 6) + ' 个) ↓' }}
                            </div>
                        </div>
                    </section>

                    <!-- 支持者列表 -->
                    <section class="section animate-in delay-2">
                        <h2 class="section-title">{{ site.sectionTitles.supporters }}</h2>
                        <p class="section-desc">{{ site.supporterDesc }}</p>
                        <div class="checkView">
                            <!-- 点不开的按钮彩蛋 -->
                            <div id="QButton">
                                <div class="QButtonBody">
                                    <div class="WhiteBall"></div>
                                    <div class="hand"></div>
                                </div>
                                <div class="QPig">
                                    <div class="wdnmd">*&%#@!^</div>
                                    <div class="QpigHead">
                                        <div class="QpigHeadBg"></div>
                                        <div class="QpigEars QpigEars1"></div>
                                        <div class="QpigEars QpigEars2"></div>
                                        <div class="QPigeyebrow"></div>
                                        <div class="QpigMouth"></div>
                                        <div class="QPigBody"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="friends">
                            <div 
                                v-for="(item, index) in supportList" 
                                :key="index" 
                                @click="selectFriend(item)"
                            >
                                <div class="header">
                                    <img :src="item.img" :alt="item.name" />
                                    <p>{{ item.name }}</p>
                                    <div class="priceAndCoffee">
                                        <p class="price" :class="{coffeeShow: !coffeeShow}">{{ item.money }}￥</p>
                                        <p class="coffee" :class="{coffeeShow: coffeeShow}">{{ item.coffeeNum }}☕️</p>
                                    </div>
                                </div>
                                <div class="footer" v-if="item.msg">
                                    <p>{{ item.msg }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="empty-tip" v-if="supportList.length === 0">
                            {{ site.emptyTip }}
                        </div>
                    </section>
                </main>
            </div>

            <!-- 图片查看器 -->
            <div class="image-viewer" :class="{ show: viewingImage }" @click="viewingImage = null">
                <div class="viewer-content" @click.stop>
                    <img :src="viewingImage" v-if="viewingImage" />
                    <div class="viewer-close" @click="viewingImage = null">✕</div>
                </div>
            </div>

            <!-- 支持者详情弹窗 -->
            <div class="pay" :class="{ payShow: friendShow }" @click="friendShow = null">
                <div class="payBox" :class="{ payBoxShow: friendShow }" @click.stop="() => {}">
                    <div v-if="friendShow">
                        <p class="title">
                            <img :src="friendShow.img" :alt="friendShow.name" />
                            <span>{{ friendShow.name }}</span>
                        </p>
                        <div class="content">
                            <p v-if="friendShow.msg != ''">{{ friendShow.msg }}</p>
                            <p v-else>这个家伙没有留下任何留言</p>
                        </div>
                        <div class="dbtn" @click.stop="friendShow = null">关闭</div>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script src="./js/vue.global.min.js"></script>
    <script src="./js/md5.min.js"></script>
    <script src="./js/config.js"></script>
    <script src="./js/data.js"></script>
    <script src="./js/main.js"></script>
</html>
